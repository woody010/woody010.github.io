<!DOCTYPE html>
<html lang="cn" class="color-toggle-hidden">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark" />





    <meta name="description" content="知识点     语言的特点和优势 数据类型及定义 bool, string, number, 流程控制Flow control（循环for, 分支if else and switch; 错误处理defer, panic, recover, Errors） Pointers, Structs, Arrays, Slices, Range, Maps OOP(Methods and Interfaces), Stringers Type Assertions, Type switches Readers Goroutines, Channels, Buffered Channels, Select, sync.Mutex  测试和调试     单元测试 go test  MVC框架     编译、调试  go build helloWorld dlv debug   日志输出 错误处理 交叉编译 GOARCH=mips GOOS=linux go build -o test helloworld.">



    <title>Golang | Woody&#39;s Notes</title>

    <link rel="icon" href="/favicon/favicon-32x32.png" type="image/x-icon">

    <script src="/js/darkmode-ce906ea916.min.js"></script>

<link rel="preload" as="font" href="/fonts/Metropolis.woff2" type="font/woff2" crossorigin="anonymous">
<link rel="preload" as="font" href="/fonts/LiberationSans.woff2" type="font/woff2" crossorigin="anonymous">

<link rel="preload" href="/main-468ccf24c5.min.css" as="style">
<link rel="stylesheet" href="/main-468ccf24c5.min.css" media="all">

<link rel="preload" href="/mobile-0e5d2e7ecf.min.css" as="style">
<link rel="stylesheet" href="/mobile-0e5d2e7ecf.min.css" media="screen and (max-width: 45rem)">

<link rel="preload" href="/print-f79fc3e5d7.min.css" as="style">
<link rel="stylesheet" href="/print-f79fc3e5d7.min.css" media="print">

<link rel="preload" href="/custom.css" as="style">
<link rel="stylesheet" href="/custom.css" media="all">



<!-- Made with Geekdoc theme https://github.com/thegeeklab/hugo-geekdoc -->

    

</head>

<body itemscope itemtype="https://schema.org/WebPage">
    
<!-- geekdoc include: sprites/geekdoc.svg -->
<svg class="svg-sprite" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_back" xmlns="http://www.w3.org/2000/svg"><path d="M24 10.526v2.947H5.755l8.351 8.421-2.105 2.105-12-12 12-12 2.105 2.105-8.351 8.421H24z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_left_alt" xmlns="http://www.w3.org/2000/svg"><path d="M5.965 10.526V6.035L0 12l5.965 5.965v-4.491H24v-2.947H5.965z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_arrow_right_alt" xmlns="http://www.w3.org/2000/svg"><path d="M18.035 10.526V6.035L24 12l-5.965 5.965v-4.491H0v-2.947h18.035z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_bitbucket" xmlns="http://www.w3.org/2000/svg"><path d="M15.905 13.355c.189 1.444-1.564 2.578-2.784 1.839-1.375-.602-1.375-2.784-.034-3.403 1.151-.705 2.818.223 2.818 1.564zm1.907-.361c-.309-2.44-3.076-4.056-5.328-3.042-1.426.636-2.389 2.148-2.32 3.747.086 2.097 2.08 3.815 4.176 3.626s3.729-2.234 3.472-4.331zm4.108-9.315c-.756-.997-2.045-1.169-3.179-1.358-3.214-.516-6.513-.533-9.727.034-1.066.172-2.269.361-2.939 1.323 1.1 1.031 2.664 1.186 4.073 1.358 2.544.327 5.156.344 7.699.017 1.426-.172 3.008-.309 4.073-1.375zm.979 17.788c-.481 1.684-.206 3.953-1.994 4.932-3.076 1.701-6.806 1.89-10.191 1.289-1.787-.327-3.884-.894-4.864-2.578-.43-1.65-.705-3.334-.98-5.018l.103-.275.309-.155c5.121 3.386 12.288 3.386 17.427 0 .808.241.206 1.22.189 1.805zM26.01 4.951c-.584 3.764-1.255 7.51-1.908 11.257-.189 1.1-1.255 1.719-2.148 2.183-3.214 1.615-6.96 1.89-10.483 1.512-2.389-.258-4.829-.894-6.771-2.389-.911-.705-.911-1.908-1.083-2.922-.602-3.523-1.289-7.046-1.719-10.604.206-1.547 1.942-2.217 3.231-2.698C6.848.654 8.686.362 10.508.19c3.884-.378 7.854-.241 11.618.859 1.341.395 2.784.945 3.695 2.097.412.533.275 1.203.189 1.805z"/></symbol><symbol viewBox="-2.29 -2.29 28.57 28.57" id="gdoc_bookmark" xmlns="http://www.w3.org/2000/svg"><path d="M15.268 4.392q.868 0 1.532.638t.664 1.506v17.463l-7.659-3.268-7.608 3.268V6.536q0-.868.664-1.506t1.532-.638h10.876zm4.34 14.144V4.392q0-.868-.638-1.532t-1.506-.664H6.537q0-.868.664-1.532T8.733 0h10.876q.868 0 1.532.664t.664 1.532v17.412z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_auto" xmlns="http://www.w3.org/2000/svg"><path d="M16.846 18.938h2.382L15.22 7.785h-2.44L8.772 18.938h2.382l.871-2.44h3.95zm7.087-9.062L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809zm-11.385 4.937L14 10.282l1.452 4.531h-2.904z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_dark" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565q-1.51 0-3.079.697 1.917.871 3.108 2.701T15.22 14t-1.191 4.037-3.108 2.701q1.568.697 3.079.697zm9.933-11.559L27.999 14l-4.066 4.124v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_brightness_light" xmlns="http://www.w3.org/2000/svg"><path d="M14 21.435q3.079 0 5.257-2.178T21.435 14t-2.178-5.257T14 6.565 8.743 8.743 6.565 14t2.178 5.257T14 21.435zm9.933-3.311v5.809h-5.809L14 27.999l-4.124-4.066H4.067v-5.809L.001 14l4.066-4.124V4.067h5.809L14 .001l4.124 4.066h5.809v5.809L27.999 14z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_cloud_off" xmlns="http://www.w3.org/2000/svg"><path d="M9.023 10.5H7q-1.914 0-3.281 1.395t-1.367 3.309 1.367 3.281T7 19.852h11.375zM3.5 4.976l1.477-1.477L24.5 23.022l-1.477 1.477-2.352-2.297H6.999q-2.898 0-4.949-2.051t-2.051-4.949q0-2.844 1.969-4.867t4.758-2.133zm19.086 5.578q2.242.164 3.828 1.832T28 16.351q0 3.008-2.461 4.758l-1.695-1.695q1.805-.984 1.805-3.063 0-1.422-1.039-2.461t-2.461-1.039h-1.75v-.602q0-2.68-1.859-4.539t-4.539-1.859q-1.531 0-2.953.711l-1.75-1.695Q11.431 3.5 14.001 3.5q2.953 0 5.496 2.078t3.09 4.977z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_code" xmlns="http://www.w3.org/2000/svg"><path d="M9.917 24.5a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm0-21a1.75 1.75 0 10-3.501.001A1.75 1.75 0 009.917 3.5zm11.666 2.333a1.75 1.75 0 10-3.501.001 1.75 1.75 0 003.501-.001zm1.75 0a3.502 3.502 0 01-1.75 3.026c-.055 6.581-4.721 8.039-7.82 9.023-2.898.911-3.846 1.349-3.846 3.117v.474a3.502 3.502 0 011.75 3.026c0 1.932-1.568 3.5-3.5 3.5s-3.5-1.568-3.5-3.5c0-1.294.711-2.424 1.75-3.026V6.526A3.502 3.502 0 014.667 3.5c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5a3.502 3.502 0 01-1.75 3.026v9.06c.93-.456 1.914-.766 2.807-1.039 3.391-1.075 5.323-1.878 5.359-5.687a3.502 3.502 0 01-1.75-3.026c0-1.932 1.568-3.5 3.5-3.5s3.5 1.568 3.5 3.5z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_date" xmlns="http://www.w3.org/2000/svg"><path d="M27.192 28.844V11.192H4.808v17.652h22.384zm0-25.689q1.277 0 2.253.976t.976 2.253v22.459q0 1.277-.976 2.216t-2.253.939H4.808q-1.352 0-2.291-.901t-.939-2.253V6.385q0-1.277.939-2.253t2.291-.976h1.577V.001h3.23v3.155h12.769V.001h3.23v3.155h1.577zm-3.155 11.267v3.155h-3.23v-3.155h3.23zm-6.46 0v3.155h-3.155v-3.155h3.155zm-6.384 0v3.155h-3.23v-3.155h3.23z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_download" xmlns="http://www.w3.org/2000/svg"><path d="M2.866 28.209h26.269v3.79H2.866v-3.79zm26.268-16.925L16 24.418 2.866 11.284h7.493V.001h11.283v11.283h7.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_email" xmlns="http://www.w3.org/2000/svg"><path d="M28.845 9.615v-3.23L16 14.422 3.155 6.385v3.23L16 17.577zm0-6.46q1.277 0 2.216.977T32 6.385v19.23q0 1.277-.939 2.253t-2.216.977H3.155q-1.277 0-2.216-.977T0 25.615V6.385q0-1.277.939-2.253t2.216-.977h25.69z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_git" xmlns="http://www.w3.org/2000/svg"><path d="M27.472 12.753L15.247.529a1.803 1.803 0 00-2.55 0l-2.84 2.84 2.137 2.137a2.625 2.625 0 013.501 3.501l3.499 3.499a2.625 2.625 0 11-1.237 1.237l-3.499-3.499c-.083.04-.169.075-.257.106v7.3a2.626 2.626 0 11-1.75 0v-7.3a2.626 2.626 0 01-1.494-3.607L8.62 4.606l-8.09 8.09a1.805 1.805 0 000 2.551l12.225 12.224a1.803 1.803 0 002.55 0l12.168-12.168a1.805 1.805 0 000-2.551z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_github" xmlns="http://www.w3.org/2000/svg"><path d="M16 .394c8.833 0 15.999 7.166 15.999 15.999 0 7.062-4.583 13.062-10.937 15.187-.813.146-1.104-.354-1.104-.771 0-.521.021-2.25.021-4.396 0-1.5-.5-2.458-1.083-2.958 3.562-.396 7.312-1.75 7.312-7.896 0-1.75-.625-3.167-1.646-4.291.167-.417.708-2.042-.167-4.25-1.333-.417-4.396 1.646-4.396 1.646a15.032 15.032 0 00-8 0S8.937 6.602 7.603 7.018c-.875 2.208-.333 3.833-.167 4.25-1.021 1.125-1.646 2.542-1.646 4.291 0 6.125 3.729 7.5 7.291 7.896-.458.417-.875 1.125-1.021 2.146-.917.417-3.25 1.125-4.646-1.333-.875-1.521-2.458-1.646-2.458-1.646-1.562-.021-.104.979-.104.979 1.042.479 1.771 2.333 1.771 2.333.938 2.854 5.396 1.896 5.396 1.896 0 1.333.021 2.583.021 2.979 0 .417-.292.917-1.104.771C4.582 29.455-.001 23.455-.001 16.393-.001 7.56 7.165.394 15.998.394zM6.063 23.372c.042-.083-.021-.187-.146-.25-.125-.042-.229-.021-.271.042-.042.083.021.187.146.25.104.062.229.042.271-.042zm.646.709c.083-.062.062-.208-.042-.333-.104-.104-.25-.146-.333-.062-.083.062-.062.208.042.333.104.104.25.146.333.062zm.625.937c.104-.083.104-.25 0-.396-.083-.146-.25-.208-.354-.125-.104.062-.104.229 0 .375s.271.208.354.146zm.875.875c.083-.083.042-.271-.083-.396-.146-.146-.333-.167-.417-.062-.104.083-.062.271.083.396.146.146.333.167.417.062zm1.187.521c.042-.125-.083-.271-.271-.333-.167-.042-.354.021-.396.146s.083.271.271.312c.167.062.354 0 .396-.125zm1.313.104c0-.146-.167-.25-.354-.229-.187 0-.333.104-.333.229 0 .146.146.25.354.229.187 0 .333-.104.333-.229zm1.208-.208c-.021-.125-.187-.208-.375-.187-.187.042-.312.167-.292.312.021.125.187.208.375.167s.312-.167.292-.292z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_gitlab" xmlns="http://www.w3.org/2000/svg"><path d="M1.629 11.034L14 26.888.442 17.048a1.09 1.09 0 01-.39-1.203l1.578-4.811zm7.217 0h10.309l-5.154 15.854zM5.753 1.475l3.093 9.559H1.63l3.093-9.559a.548.548 0 011.031 0zm20.618 9.559l1.578 4.811c.141.437-.016.922-.39 1.203l-13.558 9.84 12.371-15.854zm0 0h-7.216l3.093-9.559a.548.548 0 011.031 0z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_heart" xmlns="http://www.w3.org/2000/svg"><path d="M16 29.714a1.11 1.11 0 01-.786-.321L4.072 18.643c-.143-.125-4.071-3.714-4.071-8 0-5.232 3.196-8.357 8.535-8.357 3.125 0 6.053 2.464 7.464 3.857 1.411-1.393 4.339-3.857 7.464-3.857 5.339 0 8.535 3.125 8.535 8.357 0 4.286-3.928 7.875-4.089 8.035L16.785 29.392c-.214.214-.5.321-.786.321z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_down" xmlns="http://www.w3.org/2000/svg"><path d="M3.281 5.36L14 16.079 24.719 5.36 28 8.641l-14 14-14-14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_left" xmlns="http://www.w3.org/2000/svg"><path d="M25.875 28.25L22.125 32 6.126 16.001 22.125.002l3.75 3.75-12.25 12.25z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_keyborad_arrow_right" xmlns="http://www.w3.org/2000/svg"><path d="M6.125 28.25L18.375 16 6.125 3.75 9.875 0l15.999 15.999L9.875 31.998z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_keyborad_arrow_up" xmlns="http://www.w3.org/2000/svg"><path d="M24.719 22.64L14 11.921 3.281 22.64 0 19.359l14-14 14 14z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_link" xmlns="http://www.w3.org/2000/svg"><path d="M24.037 7.963q3.305 0 5.634 2.366T32 16t-2.329 5.671-5.634 2.366h-6.46v-3.08h6.46q2.028 0 3.493-1.465t1.465-3.493-1.465-3.493-3.493-1.465h-6.46v-3.08h6.46zM9.615 17.578v-3.155h12.77v3.155H9.615zM3.005 16q0 2.028 1.465 3.493t3.493 1.465h6.46v3.08h-6.46q-3.305 0-5.634-2.366T0 16.001t2.329-5.671 5.634-2.366h6.46v3.08h-6.46q-2.028 0-3.493 1.465t-1.465 3.493z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_menu" xmlns="http://www.w3.org/2000/svg"><path d="M.001 5.334h31.998v3.583H.001V5.334zm0 12.416v-3.5h31.998v3.5H.001zm0 8.916v-3.583h31.998v3.583H.001z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_notification" xmlns="http://www.w3.org/2000/svg"><path d="M22.615 19.384l2.894 2.894v1.413H2.49v-1.413l2.894-2.894V12.25q0-3.365 1.716-5.856t4.745-3.231v-1.01q0-.875.606-1.514T13.999 0t1.548.639.606 1.514v1.01q3.029.74 4.745 3.231t1.716 5.856v7.134zM14 27.999q-1.211 0-2.053-.808t-.841-2.019h5.788q0 1.144-.875 1.986T14 27.999z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_path" xmlns="http://www.w3.org/2000/svg"><path d="M28 12.62h-9.793V8.414h-2.826v11.173h2.826v-4.206H28V26.62h-9.793v-4.206H12.62v-14H9.794v4.206H.001V1.381h9.793v4.206h8.413V1.381H28V12.62z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_person" xmlns="http://www.w3.org/2000/svg"><path d="M16 20.023q5.052 0 10.526 2.199t5.473 5.754v4.023H0v-4.023q0-3.555 5.473-5.754t10.526-2.199zM16 16q-3.275 0-5.614-2.339T8.047 8.047t2.339-5.661T16 0t5.614 2.386 2.339 5.661-2.339 5.614T16 16z"/></symbol><symbol viewBox="-2.29 -2.29 36.57 36.57" id="gdoc_search" xmlns="http://www.w3.org/2000/svg"><path d="M11.925 20.161q3.432 0 5.834-2.402t2.402-5.834-2.402-5.834-5.834-2.402-5.834 2.402-2.402 5.834 2.402 5.834 5.834 2.402zm10.981 0L32 29.255 29.255 32l-9.094-9.094v-1.458l-.515-.515q-3.26 2.831-7.721 2.831-4.976 0-8.45-3.432T.001 11.925t3.474-8.45 8.45-3.474 8.407 3.474 3.432 8.45q0 1.802-.858 4.075t-1.973 3.646l.515.515h1.458z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_shield" xmlns="http://www.w3.org/2000/svg"><path d="M22.167 15.166V3.5h-8.166v20.726c.93-.492 2.424-1.349 3.883-2.497 1.95-1.531 4.284-3.919 4.284-6.562zm3.499-13.999v14c0 7.674-10.737 12.523-11.192 12.724-.146.073-.31.109-.474.109s-.328-.036-.474-.109c-.456-.201-11.192-5.049-11.192-12.724v-14C2.334.529 2.863 0 3.501 0H24.5c.638 0 1.167.529 1.167 1.167z"/></symbol><symbol viewBox="-2.29 -2.29 32.57 32.57" id="gdoc_tags" xmlns="http://www.w3.org/2000/svg"><path d="M6.606 7.549c0-1.047-.84-1.887-1.887-1.887s-1.887.84-1.887 1.887.84 1.887 1.887 1.887 1.887-.84 1.887-1.887zm15.732 8.493c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546s-.988-.206-1.327-.546L1.342 14.066C.59 13.329 0 11.899 0 10.852V4.718a1.9 1.9 0 011.887-1.887h6.134c1.047 0 2.477.59 3.229 1.342L21.792 14.7c.339.354.546.84.546 1.342zm5.661 0c0 .501-.206.988-.546 1.327l-7.239 7.254c-.354.339-.84.546-1.342.546-.767 0-1.15-.354-1.651-.87l6.93-6.93c.339-.339.546-.826.546-1.327s-.206-.988-.546-1.342L13.609 4.173c-.752-.752-2.182-1.342-3.229-1.342h3.303c1.047 0 2.477.59 3.229 1.342L27.454 14.7c.339.354.546.84.546 1.342z"/></symbol></svg>



    <div class="wrapper ">
        <input type="checkbox" class="hidden" id="menu-control" />
        
        <header class="gdoc-header">
    <div class="container flex align-center justify-between">
        
        <label for="menu-control" class="gdoc-nav__control">
            <svg class="icon gdoc_menu"><use xlink:href="#gdoc_menu"></use></svg>
            <svg class="icon gdoc_arrow_back"><use xlink:href="#gdoc_arrow_back"></use></svg>
        </label>
        
        <a class="gdoc-header__link" href="http://woody010.github.io/">
            <span class="gdoc-brand flex align-center">
                <img class="gdoc-brand__img" src="/brand.svg" alt="">
                <span class="gdoc-brand__title">Woody&#39;s Notes</span>
            </span>
        </a>
        <span id="gdoc-dark-mode">
            <svg class="icon gdoc_brightness_dark"><use xlink:href="#gdoc_brightness_dark"></use></svg>
            <svg class="icon gdoc_brightness_light"><use xlink:href="#gdoc_brightness_light"></use></svg>
            <svg class="icon gdoc_brightness_auto"><use xlink:href="#gdoc_brightness_auto"></use></svg>
        </span>
    </div>
</header>


        <main class="container flex flex-even">
            
            <aside class="gdoc-nav">
                <nav>
    
    <div class="gdoc-search">
        <svg class="icon gdoc_search"><use xlink:href="#gdoc_search"></use></svg>
        <input type="text" id="gdoc-search-input" class="gdoc-search__input" placeholder="Search..."
            aria-label="Search" maxlength="64" />
        <div class="gdoc-search__spinner spinner hidden"></div>
        <ul id="gdoc-search-results" class="gdoc-search__list"></ul>
    </div>



    <section class="gdoc-nav--main">
        <h2>Navigation</h2>
        
            

    

    <ul class="gdoc-nav__list">
        
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">01 编程语言</span>
            
            

            
                
    

    <ul class="gdoc-nav__list">
        
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Golang/" class="gdoc-nav__entry is-active">
                        Golang
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Markdown/" class="gdoc-nav__entry ">
                        Markdown
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Python/" class="gdoc-nav__entry ">
                        Python
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Rust/" class="gdoc-nav__entry ">
                        Rust
                    </a>
                </span>
            
            

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">02 开发工具</span>
            
            

            
                
    

    <ul class="gdoc-nav__list">
        
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/02-%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Flutter/" class="gdoc-nav__entry ">
                        Flutter
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/02-%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Git/" class="gdoc-nav__entry ">
                        Git
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/02-%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/GCC/" class="gdoc-nav__entry ">
                        GCC
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/02-%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/GDB/" class="gdoc-nav__entry ">
                        GDB
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/02-%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/iOS/" class="gdoc-nav__entry ">
                        iOS
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/02-%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/Vim/" class="gdoc-nav__entry ">
                        Vim
                    </a>
                </span>
            
            

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">06 操作系统</span>
            
            

            
                
    

    <ul class="gdoc-nav__list">
        
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/06-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Tcpdump/" class="gdoc-nav__entry ">
                        Tcpdump
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/06-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/MacOSX/" class="gdoc-nav__entry ">
                        MacOSX
                    </a>
                </span>
            
            

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">07 嵌入式</span>
            
            

            
                
    

    <ul class="gdoc-nav__list">
        
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/07-%E5%B5%8C%E5%85%A5%E5%BC%8F/Busybox/" class="gdoc-nav__entry ">
                        Busybox
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/07-%E5%B5%8C%E5%85%A5%E5%BC%8F/Openwrt/" class="gdoc-nav__entry ">
                        Openwrt
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/07-%E5%B5%8C%E5%85%A5%E5%BC%8F/uboot/" class="gdoc-nav__entry ">
                        Uboot
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/07-%E5%B5%8C%E5%85%A5%E5%BC%8F/JLink/" class="gdoc-nav__entry ">
                        JLink
                    </a>
                </span>
            
            

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/07-%E5%B5%8C%E5%85%A5%E5%BC%8F/QQ2440/" class="gdoc-nav__entry ">
                        QQ2440
                    </a>
                </span>
            
            

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">08 虚拟化</span>
            
            

            
                
    

    <ul class="gdoc-nav__list">
        
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/08-%E8%99%9A%E6%8B%9F%E5%8C%96/Docker/" class="gdoc-nav__entry ">
                        Docker
                    </a>
                </span>
            
            

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">09 数据存储</span>
            
            

            
                
    

    <ul class="gdoc-nav__list">
        
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/09-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/MySQL/" class="gdoc-nav__entry ">
                        MySQL
                    </a>
                </span>
            
            

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">10 开发资料</span>
            
            

            
                
    

    <ul class="gdoc-nav__list">
        
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/10-%E5%BC%80%E5%8F%91%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%87%E5%B0%BA%E5%AF%B8/" class="gdoc-nav__entry ">
                        图片尺寸
                    </a>
                </span>
            
            

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">20 英语学习</span>
            
            

            
                
    

    <ul class="gdoc-nav__list">
        
            
            

            
            
            
            
            
            

            <li>
            
            
                <span class="flex">
                    <a href="/20-%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0/english_level/" class="gdoc-nav__entry ">
                        English Level
                    </a>
                </span>
            
            

            
            </li>
            
            
        
    </ul>

            
            </li>
            
            
        
    </ul>





        
    </section>

    <section class="gdoc-nav--more">
        
    </section>
</nav>

            </aside>
            

            <div class="gdoc-page">
                
    


    






<div class="gdoc-page__header flex flex-wrap
     justify-between 
     hidden-mobile 
    " itemprop="breadcrumb">
    
    <div>
        <svg class="icon gdoc_path hidden-mobile"><use xlink:href="#gdoc_path"></use></svg>
        <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            
            
            
            
    
    
        
        
        
        
    
    
        
        
        
        
    
    
        <li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/' href='/'><span itemprop='name'></span></a><meta itemprop='position' content='1' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><a itemscope itemtype='https://schema.org/WebPage' itemprop='item' itemid='/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/' href='/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/'><span itemprop='name'>01 编程语言</span></a><meta itemprop='position' content='2' /></li><li> / </li><li itemprop='itemListElement' itemscope itemtype='https://schema.org/ListItem'><span itemprop='name'>Golang</span><meta itemprop='position' content='3' /></li>
    

    

    

        </ol>
    </div>
    
    
</div>


    <article class="gdoc-markdown gdoc-markdown__align--left">
        <h1>Golang</h1>
        <div class="gdoc-page__anchorwrap">
    <h2 id="知识点">
        知识点
        <a data-clipboard-text="http://woody010.github.io/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Golang/#知识点" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 知识点" href="#%e7%9f%a5%e8%af%86%e7%82%b9">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><ul>
<li>语言的特点和优势</li>
<li>数据类型及定义
bool, string, number,</li>
<li>流程控制Flow control（循环for, 分支if else and switch; 错误处理defer, panic, recover, Errors）</li>
<li>Pointers, Structs, Arrays, Slices, Range, Maps</li>
<li>OOP(Methods and Interfaces), Stringers</li>
<li>Type Assertions, Type switches</li>
<li>Readers</li>
<li>Goroutines, Channels, Buffered Channels, Select, sync.Mutex</li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h2 id="测试和调试">
        测试和调试
        <a data-clipboard-text="http://woody010.github.io/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Golang/#测试和调试" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 测试和调试" href="#%e6%b5%8b%e8%af%95%e5%92%8c%e8%b0%83%e8%af%95">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><ul>
<li>单元测试 go test</li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h2 id="mvc框架">
        MVC框架
        <a data-clipboard-text="http://woody010.github.io/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Golang/#mvc框架" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor MVC框架" href="#mvc%e6%a1%86%e6%9e%b6">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><ul>
<li>编译、调试
<ol>
<li>go build helloWorld</li>
<li>dlv debug</li>
</ol>
</li>
<li>日志输出</li>
<li>错误处理</li>
<li>交叉编译
GOARCH=mips GOOS=linux go build -o test helloworld.go
go tool dist list  //查看GOARCH和GOOS</li>
</ul>
<div class="gdoc-page__anchorwrap">
    <h2 id="webassembly">
        Webassembly
        <a data-clipboard-text="http://woody010.github.io/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Golang/#webassembly" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Webassembly" href="#webassembly">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><p>GOARCH=wasm GOOS=js go build -ldflags &ldquo;-s -w&rdquo; -o test.wasm helloworld.go</p>
<div class="gdoc-page__anchorwrap">
    <h2 id="notes">
        Notes
        <a data-clipboard-text="http://woody010.github.io/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Golang/#notes" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor Notes" href="#notes">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><ol>
<li>By convention, the package name is the same as the last element of the import path.</li>
<li>A name is exported if it begins with a capital letter.
When importing a package, you can refer only to its exported names. Any &ldquo;unexported&rdquo; names are not accessible from outside the package.</li>
<li>The type comes after the variable name.
<a href="https://blog.golang.org/gos-declaration-syntax">https://blog.golang.org/gos-declaration-syntax</a></li>
<li>When two or more consecutive named function parameters share a type, you can omit the type from all but the last.</li>
<li>A function can return any number of results.</li>
<li>Go&rsquo;s return values may be named. If so, they are treated as variables defined at the top of the function.</li>
<li>The var statement declares a list of variables.A var declaration can include initializers, one per variable.
If an initializer is present, the type can be omitted; the variable will take the type of the initializer.</li>
<li>Inside a function, the := short assignment statement can be used in place of a var declaration with implicit type.
Outside a function, every statement begins with a keyword (var, func, and so on) and so the := construct is not available.</li>
<li>Go&rsquo;s basic types are</li>
</ol>
<pre><code>
bool
string
int  int8  int16  int32  int64
uint uint8 uint16 uint32 uint64 uintptr
byte // alias for uint8
rune // alias for int32
     // represents a Unicode code point
float32 float64
complex64 complex128
</code></pre>
<p>The example shows variables of several types, and also that variable declarations may be &ldquo;factored&rdquo; into blocks, as with import statements.
The int, uint, and uintptr types are usually 32 bits wide on 32-bit systems and 64 bits wide on 64-bit systems. When you need an integer value you should use int unless you have a specific reason to use a sized or unsigned integer type.</p>
<ol start="10">
<li>Variables declared without an explicit initial value are given their zero value.
The zero value is:
0 for numeric types,
false the boolean type, and
&quot;&quot; (the empty string) for strings.</li>
<li>When declaring a variable without specifying an explicit type (either by using the := syntax or var = expression syntax), the variable&rsquo;s type is inferred from the value on the right hand side.</li>
<li>Constants are declared like variables, but with the const keyword.
Constants can be character, string, boolean, or numeric values.
Constants cannot be declared using the := syntax.</li>
<li>Numeric constants are high-precision values.
An untyped constant takes the type needed by its context.</li>
<li>Go has only one looping construct, the for loop.
The init statement will often be a short variable declaration, and the variables declared there are visible only in the scope of the for statement.
Unlike other languages like C, Java, or Javascript there are no parentheses surrounding the three components of the for statement and the braces { } are always required.</li>
</ol>
<ul>
<li>The init and post statement are optional.</li>
<li>At that point you can drop the semicolons: C&rsquo;s while is spelled for in Go.</li>
<li>If you omit the loop condition it loops forever, so an infinite loop is compactly expressed.</li>
</ul>
<ol start="15">
<li>Go&rsquo;s if statements are like its for loops; the expression need not be surrounded by parentheses ( ) but the braces { } are required.</li>
</ol>
<ul>
<li>Like for, the if statement can start with a short statement to execute before the condition.</li>
<li>Variables declared by the statement are only in scope until the end of the if.</li>
<li>Variables declared inside an if short statement are also available inside any of the else blocks.</li>
</ul>
<ol start="16">
<li>A case body in switch statement breaks automatically, unless it ends with a fallthrough statement.</li>
</ol>
<ul>
<li>Switch cases evaluate cases from top to bottom, stopping when a case succeeds.</li>
<li>Switch without a condition is the same as switch true.
This construct can be a clean way to write long if-then-else chains.</li>
</ul>
<ol start="17">
<li>A defer statement defers the execution of a function until the surrounding function returns.</li>
</ol>
<ul>
<li>The deferred call&rsquo;s arguments are evaluated immediately, but the function call is not executed until the surrounding function returns.</li>
<li>A defer statement defers the execution of a function until the surrounding function returns.</li>
<li>The deferred call&rsquo;s arguments are evaluated immediately, but the function call is not executed until the surrounding function returns.</li>
<li>Defer is commonly used to simplify functions that perform various clean-up actions.</li>
<li>Deferred functions may read and assign to the returning function&rsquo;s named return values.</li>
</ul>
<ol start="18">
<li>Panic is a built-in function that stops the ordinary flow of control and begins panicking. When the function F calls panic, execution of F stops, any deferred functions in F are executed normally, and then F returns to its caller. To the caller, F then behaves like a call to panic. The process continues up the stack until all functions in the current goroutine have returned, at which point the program crashes. Panics can be initiated by invoking panic directly. They can also be caused by runtime errors, such as out-of-bounds array accesses.</li>
<li>Recover is a built-in function that regains control of a panicking goroutine. Recover is only useful inside deferred functions. During normal execution, a call to recover will return nil and have no other effect. If the current goroutine is panicking, a call to recover will capture the value given to panic and resume normal execution.
<a href="https://blog.golang.org/defer-panic-and-recover">https://blog.golang.org/defer-panic-and-recover</a></li>
<li>Go has pointers. A pointer holds the memory address of a variable.
Unlike C, Go has no pointer arithmetic.</li>
<li>A struct is a collection of fields.
Struct fields are accessed using a dot.</li>
<li>A struct literal denotes a newly allocated struct value by listing the values of its fields.
You can list just a subset of fields by using the Name: syntax. (And the order of named fields is irrelevant.)
The special prefix &amp; returns a pointer to the struct value.</li>
<li>An array&rsquo;s length is part of its type, so arrays cannot be resized. This seems limiting, but don&rsquo;t worry; Go provides a convenient way of working with arrays.</li>
<li>A slice points to an array of values and also includes a length.
[]T is a slice with elements of type T.
len(s) returns the length of slice s.</li>
</ol>
<ul>
<li>Slices can contain any type, including other slices.</li>
<li>Slices can be re-sliced, creating a new slice value that points to the same array.</li>
<li>Slices are created with the make function. It works by allocating a zeroed array and returning a slice that refers to that array:</li>
<li>The zero value of a slice is nil. A nil slice has a length and capacity of 0.</li>
<li>It is common to append new elements to a slice, and so Go provides a built-in append function. The documentation of the built-in package describes append.
<a href="https://blog.golang.org/go-slices-usage-and-internals">https://blog.golang.org/go-slices-usage-and-internals</a></li>
</ul>
<ol start="25">
<li>The range form of the for loop iterates over a slice or map.
When ranging over a slice, two values are returned for each iteration. The first is the index, and the second is a copy of the element at that index.</li>
</ol>
<ul>
<li>You can skip the index or value by assigning to _.
If you only want the index, drop the &ldquo;, value&rdquo; entirely.</li>
</ul>
<ol start="26">
<li>A map maps keys to values.
Maps must be created with make before use; the nil map is empty and cannot be assigned to.</li>
</ol>
<ul>
<li>Map literals are like struct literals, but the keys are required.</li>
<li>If the top-level type is just a type name, you can omit it from the elements of the literal.
Insert or update an element in map m:
m[key] = elem
Retrieve an element:
elem = m[key]
Delete an element:
delete(m, key)
Test that a key is present with a two-value assignment:
elem, ok = m[key]
If key is in m, ok is true. If not, ok is false.
If key is not in the map, then elem is the zero value for the map&rsquo;s element type.
Note: if elem or ok have not yet been declared you could use a short declaration form:
elem, ok := m[key]</li>
</ul>
<ol start="27">
<li>Functions are values too. They can be passed around just like other values.
Function values may be used as function arguments and return values.</li>
<li>Go functions may be closures. A closure is a function value that references variables from outside its body. The function may access and assign to the referenced variables; in this sense the function is &ldquo;bound&rdquo; to the variables.
For example, the adder function returns a closure. Each closure is bound to its own sum variable.</li>
<li>Go does not have classes. However, you can define methods on types.
A method is a function with a special receiver argument.
The receiver appears in its own argument list between the func keyword and the method name.</li>
</ol>
<ul>
<li>Remember: a method is just a function with a receiver argument.</li>
<li>You can declare a method on non-struct types, too.</li>
<li>You can only declare a method with a receiver whose type is defined in the same package as the method. You cannot declare a method with a receiver whose type is defined in another package (which includes the built-in types such as int).</li>
</ul>
<ol start="30">
<li>You can declare methods with pointer receivers.
This means the receiver type has the literal syntax *T for some type T. (Also, T cannot itself be a pointer such as *int.)
Methods with pointer receivers can modify the value to which the receiver points (as Scale does here). Since methods often need to modify their receiver, pointer receivers are more common than value receivers.</li>
<li>There are two reasons to use a pointer receiver.
The first is so that the method can modify the value that its receiver points to.
The second is to avoid copying the value on each method call. This can be more efficient if the receiver is a large struct, for example.</li>
<li>An interface type is defined as a set of method signatures.
A value of interface type can hold any value that implements those methods.</li>
<li>A type implements an interface by implementing its methods. There is no explicit declaration of intent, no &ldquo;implements&rdquo; keyword.
Implicit interfaces decouple the definition of an interface from its implementation, which could then appear in any package without prearrangement.</li>
<li>Under the covers, interface values can be thought of as a tuple of a value and a concrete type:
(value, type)
An interface value holds a value of a specific underlying concrete type.
Calling a method on an interface value executes the method of the same name on its underlying type.</li>
<li>If the concrete value inside the interface itself is nil, the method will be called with a nil receiver.
In some languages this would trigger a null pointer exception, but in Go it is common to write methods that gracefully handle being called with a nil receiver (as with the method M in this example.)
Note that an interface value that holds a nil concrete value is itself non-nil.</li>
<li>A nil interface value holds neither value nor concrete type.
Calling a method on a nil interface is a run-time error because there is no type inside the interface tuple to indicate which concrete method to call.</li>
<li>The interface type that specifies zero methods is known as the empty interface:
interface{}
An empty interface may hold values of any type. (Every type implements at least zero methods.)
Empty interfaces are used by code that handles values of unknown type. For example, fmt.Print takes any number of arguments of type interface{}.</li>
<li>A type assertion provides access to an interface value&rsquo;s underlying concrete value.
t := i.(T)
This statement asserts that the interface value i holds the concrete type T and assigns the underlying T value to the variable t.
If i does not hold a T, the statement will trigger a panic.
To test whether an interface value holds a specific type, a type assertion can return two values: the underlying value and a boolean value that reports whether the assertion succeeded.
t, ok := i.(T)
If i holds a T, then t will be the underlying value and ok will be true.
If not, ok will be false and t will be the zero value of type T, and no panic occurs.
Note the similarity between this syntax and that of reading from a map.</li>
<li>A type switch is a construct that permits several type assertions in series.
A type switch is like a regular switch statement, but the cases in a type switch specify types (not values), and those values are compared against the type of the value held by the given interface value.</li>
</ol>
<pre><code>
switch v := i.(type) {
case T:
    // here v has type T
case S:
    // here v has type S
default:
    // no match; here v has the same type as i
}
</code></pre>
<p>The declaration in a type switch has the same syntax as a type assertion i.(T), but the specific type T is replaced with the keyword type.
This switch statement tests whether the interface value i holds a value of type T or S. In each of the T and S cases, the variable v will be of type T or S respectively and hold the value held by i. In the default case (where there is no match), the variable v is of the same interface type and value as i.
40. One of the most ubiquitous interfaces is Stringer defined by the fmt package.
type Stringer interface {
String() string
}
A Stringer is a type that can describe itself as a string. The fmt package (and many others) look for this interface to print values.
41. Go programs express error state with error values.
The error type is a built-in interface similar to fmt.Stringer:</p>
<pre><code>
type error interface {
    Error() string
}
</code></pre>
<p>(As with fmt.Stringer, the fmt package looks for the error interface when printing values.)
Functions often return an error value, and calling code should handle errors by testing whether the error equals nil.</p>
<pre><code>
i, err := strconv.Atoi("42")
if err != nil {
    fmt.Printf("couldn't convert number: %v\n", err)
    return
}
fmt.Println("Converted integer:", i)
</code></pre>
<p>A nil error denotes success; a non-nil error denotes failure.
42. A goroutine is a lightweight thread managed by the Go runtime.
43. Channels are a typed conduit through which you can send and receive values with the channel operator, &lt;-.
ch &lt;- v    // Send v to channel ch.
v := &lt;-ch  // Receive from ch, and
// assign value to v.(The data flows in the direction of the arrow.)
Like maps and slices, channels must be created before use:
ch := make(chan int)
By default, sends and receives block until the other side is ready. This allows goroutines to synchronize without explicit locks or condition variables.
44. Channels can be buffered. Provide the buffer length as the second argument to make to initialize a buffered channel:
ch := make(chan int, 100)
Sends to a buffered channel block only when the buffer is full. Receives block when the buffer is empty.
45. A sender can close a channel to indicate that no more values will be sent. Receivers can test whether a channel has been closed by assigning a second parameter to the receive expression: after
v, ok := &lt;-ch
ok is false if there are no more values to receive and the channel is closed.
The loop for i := range c receives values from the channel repeatedly until it is closed.
Note: Only the sender should close a channel, never the receiver. Sending on a closed channel will cause a panic.
Another note: Channels aren&rsquo;t like files; you don&rsquo;t usually need to close them. Closing is only necessary when the receiver must be told there are no more values coming, such as to terminate a range loop.
46. The select statement lets a goroutine wait on multiple communication operations.
A select blocks until one of its cases can run, then it executes that case. It chooses one at random if multiple are ready.
47. The default case in a select is run if no other case is ready.
Use a default case to try a send or receive without blocking:</p>
<pre><code>
select {
case i := <-c:
    // use i
default:
    // receiving from c would block
}
</code></pre>
<ol start="48">
<li>We&rsquo;ve seen how channels are great for communication among goroutines.
But what if we don&rsquo;t need communication? What if we just want to make sure only one goroutine can access a variable at a time to avoid conflicts?
This concept is called mutual exclusion, and the conventional name for the data structure that provides it is mutex.
Go&rsquo;s standard library provides mutual exclusion with sync.Mutex and its two methods:
Lock
Unlock
We can define a block of code to be executed in mutual exclusion by surrounding it with a call to Lock and Unlock as shown on the Inc method.
We can also use defer to ensure the mutex will be unlocked as in the Value method.</li>
<li></li>
</ol>
<div class="gdoc-page__anchorwrap">
    <h2 id="常见问题及解答">
        常见问题及解答
        <a data-clipboard-text="http://woody010.github.io/01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/Golang/#常见问题及解答" class="gdoc-page__anchor gdoc-page__anchor--right clip" aria-label="Anchor 常见问题及解答" href="#%e5%b8%b8%e8%a7%81%e9%97%ae%e9%a2%98%e5%8f%8a%e8%a7%a3%e7%ad%94">
            <svg class="icon gdoc_link"><use xlink:href="#gdoc_link"></use></svg>
        </a>
    </h2>
</div><ol>
<li>Q: import package时，包的前面用下划线的作用？</li>
</ol>
<pre><code>
import (
    "database/sql"
    "fmt"
    _ "github.com/go-sql-driver/mysql"
)
</code></pre>
<p>A: 执行包的初始化。</p>
<ol start="2">
<li>Go的变量声明为什么把类型放在变量名之后？
<a href="https://blog.golang.org/gos-declaration-syntax">https://blog.golang.org/gos-declaration-syntax</a></li>
</ol>


    </article>

                








    
    

    





<div class="gdoc-page__footer flex flex-wrap justify-between">
    
    
</div>

            </div>
        </main>

        <footer class="gdoc-footer">
    <div class="container flex">
        <div class="flex flex-wrap">
            <span class="gdoc-footer__item gdoc-footer__item--row">
                Built with <a href="https://gohugo.io/" class="gdoc-footer__link">Hugo</a> and
                <svg class="icon gdoc_heart"><use xlink:href="#gdoc_heart"></use></svg>
            </span>
            
            
        </div>
        
        <div class="flex flex-25 justify-end">
            <span class="gdoc-footer__item">
                <a class="gdoc-footer__link fake-link" href="#" aria-label="Back to top">
                    <svg class="icon gdoc_keyborad_arrow_up"><use xlink:href="#gdoc_keyborad_arrow_up"></use></svg> <span class="hidden-mobile">Back to top</span>
                </a>
            </span>
        </div>
        
    </div>
</footer>

    </div>

    




<script defer src="/js/cn.search.min.d3c980efd8e9cacc6598b47a054947a14893ec8cdb3f1200705472cfacd34ca2.js"></script>



<script defer src="/js/clipboard-27784b7376.min.js"></script>
<script defer src="/js/clipboard-loader-f0b5fbd5f6.min.js"></script>


</body>
</html>
